/* Tokamak Landing Page Fonts */
@import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@100;200;300;400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Jersey+10&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 199 89% 48%;
    --primary-foreground: 210 40% 98%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 199 89% 48%;
    --input: 217.2 32.6% 17.5%;
    --ring: 199 89% 48%;
    --radius: 0.5rem;

    /* DKG specific colors */
    --dkg-primary: 195 100% 57%;
    --dkg-secondary: 211 100% 31%;
    --dkg-background: 220 39% 11%;
    --dkg-panel: 220 39% 18%;
  }

  .light {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    /* DKG specific colors for light mode */
    --dkg-primary: 195 100% 50%;
    --dkg-secondary: 211 100% 20%;
    --dkg-background: 210 40% 96%;
    --dkg-panel: 0 0% 100%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 199 89% 48%;
    --primary-foreground: 210 40% 98%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 199 89% 48%;
    --input: 217.2 32.6% 17.5%;
    --ring: 199 89% 48%;

    /* DKG specific colors for dark mode */
    --dkg-primary: 195 100% 57%;
    --dkg-secondary: 211 100% 31%;
    --dkg-background: 220 39% 11%;
    --dkg-panel: 220 39% 18%;
  }
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  /* Root element styling - Space Background Theme */
  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    max-width: 100vw;
    background: linear-gradient(to bottom, #0a1930 0%, #1a2347 100%);
    min-height: 100vh;
    min-height: 100dvh;
    background-attachment: fixed;
    overscroll-behavior: none;
    overscroll-behavior-y: none;
  }
  
  body {
    @apply text-white;
    background: linear-gradient(to bottom, #0a1930 0%, #1a2347 100%);
    min-height: 100vh;
    min-height: 100dvh;
    background-attachment: fixed;
    overscroll-behavior: none;
    overscroll-behavior-y: none;
    max-width: 100vw;
    font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace;
  }
  
  /* Additional safety net for the root container */
  #__next {
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  /* Create extended background to cover overscroll areas */
  html::before {
    content: '';
    position: fixed;
    top: -100vh;
    left: 0;
    right: 0;
    height: 300vh;
    background: linear-gradient(to bottom, #0a1930 0%, #1a2347 100%);
    z-index: -9999;
    pointer-events: none;
  }
}

@layer components {
  .btn-primary {
    @apply px-6 py-3 bg-[#028bee] text-white font-semibold shadow-lg hover:shadow-xl hover:bg-[#0277d4] transition-all duration-200 transform hover:scale-105;
  }

  .btn-secondary {
    @apply px-6 py-3 bg-transparent border border-[#4fc3f7] text-[#4fc3f7] font-semibold shadow-lg hover:bg-[#4fc3f7] hover:text-white transition-all duration-200 transform hover:scale-105;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-[#4fc3f7] to-[#29b6f6] bg-clip-text text-transparent;
  }

  .card {
    @apply bg-gradient-to-b from-[#1a2347] to-[#0a1930] shadow-lg border border-[#4fc3f7] p-6 transition-all duration-300 hover:shadow-xl hover:shadow-[#4fc3f7]/20;
  }

  .space-background {
    background: linear-gradient(to bottom, #0a1930 0%, #1a2347 100%);
  }

  .tokamak-border {
    @apply border border-[#4fc3f7];
  }

  .text-hero-title {
    color: #00477a !important;
    text-shadow: -2px -2px 0 #7ed7ff, -2px 0 0 #7ed7ff, -2px 2px 0 #7ed7ff,
      0 -2px 0 #7ed7ff, 0 2px 0 #7ed7ff, 2px -2px 0 #7ed7ff, 2px 0 0 #7ed7ff,
      2px 2px 0 #7ed7ff !important;
    filter: drop-shadow(2px 2px 0 #00477a) !important;
    font-family: "Jersey 10", "Press Start 2P", monospace !important;
    font-size: 70px !important;
    font-style: normal !important;
    font-weight: 400 !important;
    line-height: normal !important;
    letter-spacing: 6.3px !important;
  }

  .cosmic-star {
    animation: twinkle 2s infinite alternate;
  }

  @keyframes twinkle {
    0% { opacity: 0.3; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.2); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .retro-shadow {
    box-shadow: 8px 8px 0px #0f172a;
  }

  .neon-glow {
    text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor;
  }
}

@layer utilities {
  .gradient-text {
    @apply bg-gradient-to-r from-[#4fc3f7] to-[#29b6f6] bg-clip-text text-transparent;
  }
  
  .card-hover {
    @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
  }
  
  .status-active {
    @apply bg-green-900/30 text-green-300 border-green-500;
  }
  
  .status-pending {
    @apply bg-yellow-900/30 text-yellow-300 border-yellow-500;
  }
  
  .status-inactive {
    @apply bg-gray-900/30 text-gray-300 border-gray-500;
  }
  
  .status-error {
    @apply bg-red-900/30 text-red-300 border-red-500;
  }

  /* Enhanced animations and effects */
  .animate-shimmer {
    animation: shimmer 2s ease-in-out infinite alternate;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-bounce-in {
    animation: bounceIn 0.5s ease-out;
  }

  .glass-effect {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }

  .glass-effect-dark {
    @apply bg-black/20 backdrop-blur-md border border-white/10;
  }

  /* Frost-DKG inspired styles */
  .frost-panel {
    @apply bg-gradient-to-b from-white to-gray-50 border border-gray-200 rounded-lg shadow-sm;
  }

  .frost-panel-dark {
    @apply bg-gradient-to-b from-[hsl(var(--dkg-panel))] to-[hsl(var(--dkg-background))] border border-[#4fc3f7]/30 rounded-lg shadow-lg;
  }

  .frost-button {
    @apply bg-[hsl(var(--dkg-primary))] hover:bg-[hsl(var(--dkg-secondary))] text-white font-medium px-4 py-2 rounded-md transition-all duration-200 hover:scale-105 hover:shadow-lg;
  }

  .frost-input {
    @apply bg-[hsl(var(--dkg-background))] border border-[#4fc3f7]/30 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4fc3f7] focus:border-transparent;
  }

  /* Status lights similar to frost-dkg */
  .status-light {
    @apply w-4 h-4 rounded-full border-2 transition-all duration-300;
  }

  .status-light-inactive {
    @apply bg-gray-500/30 border-gray-500/20;
  }

  .status-light-active {
    @apply bg-green-500 border-green-400 shadow-lg shadow-green-500/50 animate-pulse;
  }

  .status-light-warning {
    @apply bg-yellow-500 border-yellow-400 shadow-lg shadow-yellow-500/50 animate-pulse;
  }

  .status-light-error {
    @apply bg-red-500 border-red-400 shadow-lg shadow-red-500/50;
  }

  /* Enhanced hover effects */
  .hover-lift {
    @apply transition-transform duration-200 hover:scale-105 hover:shadow-lg;
  }

  .hover-glow {
    @apply transition-all duration-200 hover:shadow-lg hover:shadow-[#4fc3f7]/30;
  }

  /* Better focus states */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-[#4fc3f7] focus:ring-offset-2 focus:ring-offset-[hsl(var(--dkg-background))];
  }

  /* Custom border width */
  .border-3 {
    border-width: 3px;
  }

  /* Responsive text scaling */
  .text-responsive-sm {
    @apply text-xs md:text-sm;
  }

  .text-responsive-base {
    @apply text-sm md:text-base;
  }

  .text-responsive-lg {
    @apply text-base md:text-lg;
  }

  .text-responsive-xl {
    @apply text-lg md:text-xl;
  }
}

/* Custom scrollbar - Tokamak Style */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-[#0a1930];
}

::-webkit-scrollbar-thumb {
  @apply bg-[#4fc3f7];
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-[#29b6f6];
}

/* Custom scrollbar for sidebar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  @apply bg-[#0a1218];
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-[#4fc3f7]/50;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  @apply bg-[#4fc3f7];
}

/* Loading animations */
.animate-pulse-slow {
  animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Network status indicator */
.network-indicator {
  @apply relative;
}

.network-indicator::before {
  content: '';
  @apply absolute -top-1 -right-1 h-3 w-3 bg-[#4fc3f7] border border-[#1a2347];
  animation: pulse 2s infinite;
}

/* Tooltip animations */
.tooltip {
  @apply invisible absolute z-10 px-2 py-1 text-xs text-white bg-[#0a1930] border border-[#4fc3f7] opacity-0 transition-all duration-300;
}

.tooltip-container:hover .tooltip {
  @apply visible opacity-100;
}

/* RainbowKit Custom Styling */

/* Main Connect Button */
div[data-rk] button[data-testid="rk-connect-button"] {
  border-radius: 0 !important;
  border: none !important;
  background: linear-gradient(to right, #028bee, #0277d4) !important;
  box-shadow: 0 0 20px rgba(79, 195, 247, 0.3) !important;
  transition: all 0.2s !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
  font-weight: 600 !important;
  padding: 10px 24px !important;
  color: white !important;
}

div[data-rk] button[data-testid="rk-connect-button"]:hover {
  background: linear-gradient(to right, #0277d4, #0266bd) !important;
  box-shadow: 0 0 30px rgba(79, 195, 247, 0.5) !important;
  transform: scale(1.05) !important;
}

/* Force remove rounded corners from RainbowKit - but not from images */
div[data-rk] div,
div[data-rk] button,
div[data-rk] [role="dialog"] {
  border-radius: 0 !important;
}

/* Preserve images and their containers */
div[data-rk] img,
div[data-rk] svg {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Modal Background Overlay - the dark backdrop */
div[data-rk] > div[style] {
  background: rgba(10, 25, 48, 0.95) !important;
  backdrop-filter: blur(4px) !important;
}

/* Modal Dialog Container */
div[data-rk] [role="dialog"],
div[data-rk] div[role="dialog"] {
  border-radius: 0 !important;
  background: linear-gradient(to bottom, #1a2347, #0a1930) !important;
  border: 1px solid #4fc3f7 !important;
  box-shadow: 0 0 40px rgba(79, 195, 247, 0.4) !important;
}

/* ULTRA AGGRESSIVE: Force dark background on EVERYTHING in modal except images */
div[data-rk] [role="dialog"] * {
  background-color: transparent !important;
}

/* Only set dark backgrounds on specific container divs */
div[data-rk] [role="dialog"] > div {
  background: linear-gradient(to bottom, #1a2347, #0a1930) !important;
  border-radius: 0 !important;
}

/* Modal Header/Title */
div[data-rk] [role="dialog"] h1,
div[data-rk] [role="dialog"] h2,
div[data-rk] [role="dialog"] h3 {
  color: white !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
}

/* Modal Text */
div[data-rk] [role="dialog"] p,
div[data-rk] [role="dialog"] span,
div[data-rk] [role="dialog"] div {
  color: #e5e5e5 !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
}

/* Close Button */
div[data-rk] [role="dialog"] button[aria-label*="Close"] {
  background: transparent !important;
  color: #4fc3f7 !important;
  border: 1px solid #4fc3f7 !important;
  border-radius: 0 !important;
}

div[data-rk] [role="dialog"] button[aria-label*="Close"]:hover {
  background: #4fc3f7/10 !important;
  color: white !important;
}

/* Wallet Buttons - Override the transparent background rule */
div[data-rk] [role="dialog"] button {
  border-radius: 0 !important;
  border: 1px solid #4fc3f7/30 !important;
  background: #0a1930 !important;
  background-color: #0a1930 !important;
  color: white !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
  transition: all 0.2s !important;
}

div[data-rk] [role="dialog"] button:hover {
  background: #028bee !important;
  background-color: #028bee !important;
  border-color: #4fc3f7 !important;
  transform: translateY(-2px) !important;
}

/* Wallet Button Images and Icons */
div[data-rk] [role="dialog"] button img,
div[data-rk] [role="dialog"] button svg {
  display: inline-block !important;
  opacity: 1 !important;
  visibility: visible !important;
  filter: none !important;
}

/* Icon containers inside buttons */
div[data-rk] [role="dialog"] button > div {
  display: flex !important;
  align-items: center !important;
  background: transparent !important;
}

/* Wallet Button Text */
div[data-rk] [role="dialog"] button span {
  color: white !important;
}

/* Force dark background on ALL white backgrounds in modal */
div[data-rk] [role="dialog"] div[style*="background: rgb(255, 255, 255)"],
div[data-rk] [role="dialog"] div[style*="background-color: rgb(255, 255, 255)"],
div[data-rk] [role="dialog"] div[style*="background: white"],
div[data-rk] [role="dialog"] div[style*="background-color: white"],
div[data-rk] [role="dialog"] div[style*="backgroundColor: rgb(255, 255, 255)"],
div[data-rk] [role="dialog"] *[style*="background: rgb(255, 255, 255)"],
div[data-rk] [role="dialog"] *[style*="background-color: rgb(255, 255, 255)"],
div[data-rk] [role="dialog"] *[style*="background: white"],
div[data-rk] [role="dialog"] *[style*="backgroundColor"] {
  background: #1a2347 !important;
  background-color: #1a2347 !important;
}

/* Target deeply nested divs */
div[data-rk] [role="dialog"] div div,
div[data-rk] [role="dialog"] div div div {
  background-color: transparent !important;
}

/* Left panel (wallet selection) - force dark, override transparent rule */
div[data-rk] [role="dialog"] > div > div:first-child {
  background: linear-gradient(to bottom, #1a2347, #0a1930) !important;
  background-color: #1a2347 !important;
}

div[data-rk] [role="dialog"] > div > div:first-child > * {
  background: transparent !important;
}

/* Right panel (What is a Wallet section) - force dark, override transparent rule */
div[data-rk] [role="dialog"] > div > div:last-child {
  background: #0a1930 !important;
  background-color: #0a1930 !important;
  border-left: 1px solid #4fc3f7/30 !important;
}

div[data-rk] [role="dialog"] > div > div:last-child > * {
  background: transparent !important;
}

/* Icons in "What is a Wallet" section */
div[data-rk] [role="dialog"] > div > div:last-child img,
div[data-rk] [role="dialog"] > div > div:last-child svg {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Icon containers in info section */
div[data-rk] [role="dialog"] > div > div:last-child > div {
  background: transparent !important;
}

/* Links */
div[data-rk] [role="dialog"] a {
  color: #4fc3f7 !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
}

div[data-rk] [role="dialog"] a:hover {
  color: #29b6f6 !important;
}

/* Scrollbar for modal */
div[data-rk] [role="dialog"] ::-webkit-scrollbar {
  width: 6px;
}

div[data-rk] [role="dialog"] ::-webkit-scrollbar-track {
  background: #0a1930;
}

div[data-rk] [role="dialog"] ::-webkit-scrollbar-thumb {
  background: #4fc3f7;
}

div[data-rk] [role="dialog"] ::-webkit-scrollbar-thumb:hover {
  background: #29b6f6;
}

/* Account Modal (when connected) */
div[data-rk] button[data-testid="rk-account-button"] {
  border-radius: 0 !important;
  border: 1px solid #4fc3f7 !important;
  background: #028bee !important;
  color: white !important;
  font-family: var(--font-ibm-plex-mono), "IBM Plex Mono", monospace !important;
}

div[data-rk] button[data-testid="rk-account-button"]:hover {
  background: #0277d4 !important;
  transform: scale(1.05) !important;
}

/* Enhanced keyframes for DKG improvements */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Toast animations */
.toast-enter {
  transform: translateX(100%);
  opacity: 0;
}

.toast-enter-active {
  transform: translateX(0);
  opacity: 1;
  transition: transform 150ms ease-out, opacity 150ms ease-out;
}

.toast-exit {
  transform: translateX(0);
  opacity: 1;
}

.toast-exit-active {
  transform: translateX(100%);
  opacity: 0;
  transition: transform 150ms ease-in, opacity 150ms ease-in;
}

/* Modal animations */
.modal-overlay {
  animation: fadeIn 200ms ease-out;
}

.modal-content {
  animation: bounceIn 300ms ease-out;
}

/* Light mode specific scrollbar */
.light ::-webkit-scrollbar-thumb {
  background: hsl(var(--dkg-primary) / 0.3);
}

.light ::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--dkg-primary) / 0.5);
}

/* Enhanced selection styling */
::selection {
  background: hsl(var(--dkg-primary) / 0.3);
  color: hsl(var(--foreground));
}

/* Better loading states */
.skeleton {
  @apply animate-pulse bg-gray-300/20 rounded;
}

.skeleton-dark {
  @apply animate-pulse bg-gray-700/20 rounded;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .frost-panel, .frost-panel-dark {
    @apply p-4;
  }
  
  .modal-content {
    @apply w-full max-w-sm;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}